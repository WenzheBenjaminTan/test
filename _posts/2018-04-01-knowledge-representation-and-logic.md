---
layout: post
title: "知识表示与逻辑" 
---
# 1、集合论基础

集合（set）是指一些对象的全体，这些对象称为集合的元素或成员。集合$A$和$B$是相同的记为$A=B$，表示它们包含的元素是相同的。注意$$\{x,y\}=\{y,x\}$$，这是因为两个集合恰好相同的元素，与表示的顺序和形式无关。记法$$\{x\mid \_x\_\}$$用于表示一个集合，其所有元素$x$满足某种性质$$\_x\_$$。$$\{x\in A\mid \_x\_\}$$就表示$A$中所有满足性质$$\_x\_$$的元素的集合。

通常，$t\in A$表示$t$是$A$的元素，$t\notin A$表示$t$不是$A$的元素。空集$\emptyset$是一个特殊的集合，它不包含任何元素，除此以外的其他集合都为非空的。$$A\subseteq B$$表示$A$是$B$的子集。$A\cap B$表示$A$和$B$的交集，$A\cup B$表示$A$和$B$的并集。$$B\backslash A = \{x\mid x\in B 且 x\notin A\}$$ 表示$A$在$B$中的相对补集（或者称$B$与$A$的“差集”）；如果有$A\subseteq B$，则称$A$在$B$中的相对补集为$A$在$B$中的绝对补集（或简称“补集”），记为$$\complement_B A$$；如果不指定全集$B$，则$A$的补集可记为$A^C$。$$2^A = \{x\mid x\subseteq A\}$$表示$A$的幂集（power set）。

更一般地，考虑集合$A$，其中的元素也是集合，可以定义并集或交集表示方式：

$$\bigcap A = \{x\mid x 属于 A 中的所有元素\}$$

$$\bigcup A = \{x\mid x 属于 A 中的某个元素\}$$

显然，$\bigcup 2^A = A$。

常用的一些数集表示如下：

(1) 实数集：$\mathbb{R}$，正实数集$$\mathbb{R}_{+}$$，负实数集$$\mathbb{R}_-$$；

(2) 整数集：$\mathbb{Z}$，正整数集$$\mathbb{Z}_+$$，负整数集$$\mathbb{Z}_-$$；

(3) 自然数集（非负整数集）：$$\mathbb{N} = \complement_{\mathbb{Z}} \mathbb{Z}_-$$，$$\mathbb{N}^* = \mathbb{Z}_+$$表示正整数集（其中$*$表示剔除该数集中的0元素）；

(4) 有理数集：$\mathbb{Q}$，正有理数集$$\mathbb{Q}_{+}$$，负有理数集$$\mathbb{Q}_-$$；

(5) 复数集：$\mathbb{C}$。


如果满足性质：$< x,y > = < u,v >$ 当且仅当 $x=u$且$y=v$，则$< x,y >$可定义为元素$x$和$y$的有序对。一种常用的定义是：

$$< x,y > = \{\{x\},\{x,y\}\}$$

有序三元组定义为：

$$< x,y,z > = << x,y >,z >$$

更一般地，对于$n > 1$ 可以如下递归地定义$n+1$元组：

$$< x_1,...,x_{n+1} > = << x_1,...,x_n >,x_{n+1} >$$

为方便起见，对于$n=1$的情形，定义$x=< x >$，这样上式对于$n=1$也是成立的。

我们称$S$是$A$中元素的有限序列（finite sequence）当且仅当$$S=< x_1,...,x_n >$$，其中每个$$x_i\in A$$。

有限序列$$S=< x_1,...,x_n >$$的子段（segment）是指一个有限序列$$< x_k,x_{k+1},...,x_{m-1},x_m >, 1\leq k\leq m\leq n$$。这个子段是初始子段当且仅当$k=1$。该子段是真子段（proper）当且仅当该子段与$S$不同。

如果$$< x_1,...,x_n > = < y_1,...,y_n >$$，那么容易证明$$x_i=y_i, 1\leq i\leq n$$。但是，如果$$< x_1,...,x_m > = < y_1,...,y_n >$$，那么不一定会得到$m=n$。不过，我们断言，只有当某个$$x_i$$本身是$$y_j$$的一个有限序列或者某个$$y_j$$是$$x_i$$的有限序列时，$m$和$n$才不相等。

我们可以构造集合$A$与集合$B$的笛卡尔积（Cartesian product）$$A\times B$$，它是所有有序对$$< x,y >$$的集合，其中$$x\in A, y\in B$$。因此，$A^n$表示$A$中元素构成的所有的$n$元组组成的集合。



关系（relation）$R$是有序对的集合。例如，数字$0~2$上的大小序关系是有序对的集合：

$$\{< 0,1 >, < 0,2 >, < 1,2 >\}$$

$R$的定义域（domain）记作$dom\ R$，它是指所有满足$< x,y > \in R$的元素$x$的集合，其中$y$是任意的；$R$的值域（range）记作$ran\ R$，它是指所有满足$< x,y > \in R$的元素$y$的集合，其中$x$是任意的。$dom\ R$和$ran\ R$的并集称为$R$的域（field），记作$fld\ R$。

对于关系$R$，我们定义：

(1) $R$在集合$A$上是自反的，当且仅当对$A$中每个元素$x$都有$< x,x > \in R$；

(2) $R$是对称的，当且仅当如果$< x,y > \in R$则$< y,x > \in R$；

(3) $R$是传递的，当且仅当如果$< x,y > \in R, < y,z > \in R$则$< x,z > \in R$；

(4) $R$在集合$A$上满足三分律（trichotomy），当且仅当对$A$中任意的$x$和$y$，三种可能中有且仅有一种成立：$< x,y >\in R$，$x=y$，或$< y,x >\in R$。

$R$是$A$上的等价关系当且仅当$R$是$A$上的一个自反的、对称和传递的。$R$是$A$上的序关系当且仅当$R$是$A$上的一个传递的且在$A$上满足三分律的。

函数（function）定义为一个具有单值性质的关系$F$：对于定义域中的每一个$x$，都有一个唯一的$y$满足$< x,y >\in F$。通常这个唯一的$y$称作$F$在$x$上的值$F(x)$。

我们称$F$将$A$映射（map）到$B$中（记作$F: A\rightarrow B$）意味着$F$是一个函数，$dom\ F = A$，$ran\ F \subseteq B$。如果$ran\ F = B$则称$F$将$A$映射（map）到$B$上。$F$是一个一对一（one-to-one）映射当且仅当对于$ran\ F$中的每一个$y$，都存在唯一的$x$使得$< x,y >\in F$。如果$< x,y >$在定义域$dom\ F$中，那么记$$F(x,y) = F(< x,y >)$$，这个记法可以推广到$n$元情形：$$F(x_1,...,x_n) = F(< x_1,...,x_n >)$$

集合$A$是有限的当且仅当存在一个函数$f$将集合$A$一对一映射到$${0,1,2,...,n-1}$$上。集合$A$是可数的当且仅当存在一个函数$f$将集合$A$一对一映射到自然数集$\mathbb{N}$上。


集合$A$和集合$B$大小相等（记作$A\sim B$），当且仅当存在一个从$A$到$B$上的一对一映射。显然，集合大小相等的关系是自反的、对称的和传递的，且可以推广到无限集合（如，整数集合$\mathbb{Z}$与自然数集$\mathbb{N}$是大小相等的）。

对于有限集合，我们可以使用自然数来度量其大小，$\mid A \mid$表示集合$A$中元素的数量。同一个自然数可以同时表示两个有限集合的大小，当且仅当这两个集合大小相等。基数的引入使我们可以将这种方法推广到无限集合。

一个集合$A$的基数（cardinal number）（或称为基（cardinality），记作$card\ A$）是给集合$A$指定的一个特定的数值，其意义为：两个集合的基数相等当且仅当它们大小相等。定义集合的基数的方法有很多种，目前最常用的方法是用与$A$大小相等的最小序数作为$card\ A$。

我们称集合$A$受控于集合$B$（记作$$A\preceq B$$）当且仅当$A$与$B$的一个子集大小相等，对应的基数关系是$card\ A\leq card\ B$当且仅当$$A\preceq B$$。


# 2、知识表示

## 2.1 形式语言与形式系统

形式语言是与自然语言不同，具有精确格式表达要求的语言。使用形式语言可以避免自然语言的不精确性和模糊性，当然这并不是没有代价的：形式语言的表达能力会受到很大的限制。

为了描述一个形式语言，通常我们需要给出以下三个信息：

(1) 指定使用的符号集（字母表），并且这些符号中没有一个是由其他符号的有限序列组成的。例如，目前在命题逻辑语言中使用的一些符号有：

$$(,),\neg,\wedge,\vee,\rightarrow,\leftrightarrow,A_1,A_2,...$$

(2) 指定一些规则用以构造“语法正确”的有限字符串（这样的字符串称为“合式公式”（well-formed formulas））。例如，在命题逻辑语言中，“$$(A_1 \rightarrow (\neg A_2))$$”是合式公式，而“$$))\rightarrow A_3$$”则不是。

(3) 指定自然语言和形式语言之间所允许的翻译。例如，在命题逻辑语言中，$$A_1,A_2,...$$是自然语言句子的翻译。

当自然语言被翻译成形式语言，就可以将人类知识表示为计算机的知识。

一个形式系统（formal system）由以下四个部分组成：

(1) 使用符号集；

(2) 合式公式的形成规则集；

(3) 推理规则集；

(4) 公理（推理原点）集。


其中前两项是系统的语言部分（形式语言），后两项是系统演绎的基础（演绎工具）。

## 2.2 命题逻辑系统

### 2.2.1 基本组成

命题逻辑语言定义的符号已在上节中给出，下面进一步说明如下：

(1) $(,)$称为“标点符号”（punctuation symbol）。

(2) $\neg(否定),\wedge(合取),\vee(析取),\rightarrow(蕴含),\leftrightarrow(等价)$称为“逻辑联结符号”（logical connective symbol），它们和标点符号一起统称为逻辑符号。

(3) $$A_1,A_2,...$$称为“命题符号”（proposition symbol）(又称非逻辑符号），是自然语言中有唯一真值的陈述句的翻译。如果一个命题符号代表一个确定的命题，则称之为命题常元（又称为为“原子命题”（propositional atom））；如果一个命题符号代表泛指的任意命题，则称该命题符号为命题变元。

定义表达式为符号的有限序列，合式公式为“语法正确”的表达式。命题逻辑语言的合式公式形成规则如下：

(1) 单个命题常元或命题变元是合式公式；

(2) 如果$\alpha$是合式公式，则$\neg\alpha$也是合式公式；


(3) 如果$\alpha$和$\beta$是合式公式，则$(\alpha\wedge\beta)$，$(\alpha\vee\beta)$，$(\alpha\rightarrow\beta)$，$(\alpha\leftrightarrow\beta)$也是合式公式；

(4) 只有有限次地运用规则(1)、(2)、(3)得到的表达式才是合式公式。

合式公式中包含的命题变元称为其分量。

对于事实性知识，命题逻辑语言通过$\neg,\wedge,\vee$联结形成的合式公式来表示；对于规则性知识（也称为“if-then规则”），命题逻辑语言通过加入$\rightarrow,\leftrightarrow$形成的合式公式来表示。

因为对于$$\wedge, \vee, \leftrightarrow$$，均可以通过$\neg, \rightarrow$来定义，如$A\wedge B$可以定义为$$\neg(A\rightarrow \neg B)$$，$A\vee B$可定义为$$\neg A\rightarrow B$$，$A\leftrightarrow B$可定义为$(A\rightarrow B)\wedge(B\rightarrow A)$，即$(\neg(((A\rightarrow B))\rightarrow\neg (B\rightarrow A)))$。下面的形式系统例子中逻辑联结符号我们只考虑$\neg, \rightarrow$。

定义$\vdash$为一个语法符号（元语言符号），被用于写在一个合式公式之前，表示这个公式是被形式系统所肯定的。命题逻辑系统中只有一条推理规则：从$\vdash(A\rightarrow B)$和$\vdash A$可以推出$\vdash B$ （该推理规则称为modus ponens，又称分离规则）。

命题逻辑系统中的公理有以下三个：

(1) $A\rightarrow(B\rightarrow A)$；

(2) $(A\rightarrow(B\rightarrow C))\rightarrow((A\rightarrow B)\rightarrow (A\rightarrow C))$；

(3) $(\neg A\rightarrow\neg B)\rightarrow(B\rightarrow A)$。



### 2.2.2 命题的证明方法

如果在命题逻辑系统中$$\Gamma_n = < A_1,A_2,...,A_n >$$是这样一个序列：对于每个$i(1\leq i\leq n)$，$$A_i$$或者是一个公理，或者由序列中前面的两个公式$$A_j, A_k(j < i,k < i)$$应用推理规则而得到，我们就称$$\Gamma_n$$是对$$A_n$$的一个证明（或推演序列）。证明过程可以描述为$$\Gamma_{n-1}\vdash A_n$$并且，称$$A_n$$是该命题逻辑系统内的定理，简记为$$\vdash A_n$$。

现实中我们要证明的大部分命题都具有“$A\rightarrow B$”的形式。有三种证明“$A\rightarrow B$”的方法：

(1) 直接法或归纳法；

(2) 对位证明法；

(3) 反证法。

在直接法中，我们从$A$开始，一步步进行推演，得到相应的中间结果，最后以$B$结束。

有时候也采用归纳法来进行命题证明。在该方法中，假定$B$包含的序列中各项的属性满足如下给定条件：

(1) 第$1$项具有该属性；

(2) 如果第$n$项具有该属性，那么第$n+1$项也具有该属性。

如果这两个条件都成立，归纳法可证明序列中的任意项均具有该属性。

对位证明法是另外一种非常有用的证明方法。该方法基于“$A\rightarrow B$”与“$(\neg A)\rightarrow(\neg B)$”的等价性进行证明。从$\neg B$开始，推断出多个中间结果，最后以$\neg A$作为结论。

还有一种证明方法是反证法，该方法基于“$A\rightarrow B$”与“$\neg （A \wedge(\neg B))$”的等价性进行证明。从“$A \wedge(\neg B)$”开始，推导出与假设前提象矛盾的结果。

## 2.3 谓词逻辑系统

在命题逻辑系统中，命题是命题演算的基本单位，不再对简单命题进行分解。因而无法研究命题内部结构及命题之间内在的联系，甚至无法处理一些简单而又常见的推理过程。例如，命题逻辑对著名的“苏格拉底三段论”就无法推理判断其正确性：

(1) 凡是人都是要死的。

(2) 苏格拉底是人。

(3) 苏格拉底是要死的。

如果用$A,B,C$表示以上三个命题，则$$(A\wedge B)\rightarrow C$$表示上述推理过程。但在命题逻辑系统中，$$(A\wedge B)\rightarrow C$$不是永真式。原因是命题符号不能把第1个命题和第2个命题的共同属性“人”表示出来。苏格拉底是“人”，所有“人”具有共同的属性“死亡”，所以他也应该有，但在命题逻辑中无法实现。这就是命题逻辑的局限性。为了解决这个问题需要引入谓词逻辑的有关概念。

### 2.3.1 基本概念

谓词逻辑系统是命题逻辑系统的扩展，通过引入“个体词”（individual）、“谓词”（predicate）和“量词”（quantifier）三个新的概念来解决命题逻辑系统对一些命题表达的局限性问题。在谓词逻辑中，命题符号被进一步分解成个体词和谓词，而量词用于限定变元（可以是个体词变元，也可以是谓词变元）的取值范围。

(1)个体词：可以独立存在的事或物，可以是一个具体事物，也可以是一个抽象的概念。

个体词部分又包括以下概念：

(a) 个体常元：表示特定的个体的词，常用$a,b,c,...$表示。

(b) 个体变元：表示泛指的个体的词，常用$x,y,z,...$表示。

(c) 个体域：个体变元的取值范围，可以是有限的集合，也可以是无限的集合（当无特别说明时，个体域由所有可能的个体组成，此时称为“全总个体域”）。

(2) 谓词：用来描述个体的属性或个体之间关系的词。

谓词部分又包括以下概念：

(a) 谓词常元：表示特定属性或关系的谓词，用大写字母$F,G,H,...$表示。

(b) 谓词变元：表示泛指属性或关系的谓词，也用与谓词常量同样的方式$F,G,H,...$表示。

(c) 谓词域：谓词变元的取值范围，可以是有限的集合，也可以是无限的集合（当无特别说明时，谓词域由所有可能的谓词组成，此时称为“全总谓词域”）。

(d) 特性谓词：在全总个体或谓词域中，表示具体个体或谓词域的谓词称为特性谓词。

(e) 项：谓词所作用的对象。

(e) 元数：谓词所作用的项的数量。在原子公式中若谓词只作用于一个项，则称之为一元谓词，其用于表示该项的属性。若谓词作用于$n$个（$n > 1$）项，则称之为$n$元谓词，其用于表示$n$个项之间的关系。

(f) 零元谓词：不联系任何个体词或谓词的谓词，命题逻辑中的命题符号都可以用零元谓词表示，因此，可以将命题逻辑看成是谓词逻辑的特殊情况。

(g) 命题函数：单独的谓词不是命题，在谓词后面的括号中填上个体或谓词的标识符所得到的式子称为谓词填式。如果在谓词填式的括号中填入的是常元，则该谓词填式就是一个命题。如果在谓词填式的括号中填入的是变元，则称该谓词填式为原子命题函数。用逻辑联结符号把一个或多个原子命题函数联结而成的表达式称为复合命题函数。

(3) 量词：用常元取代变元，使命题函数成为命题的过程称为代换，通过代换而得到的命题称为命题函数的代换实例。由代换实例得到的命题是个别命题。除了代换外，我们还可以采用量化的方法来确定命题，所谓量化是指指出变元在域中的取值方式。采用量化确定的命题是一个命题集合。而量化所用的词称为量词。

在谓词逻辑中，用到的量词有以下两个：

(a) 全称量词$\forall$：用于表示变元在域中的取值方式是考虑所有可能的取值。

(b) 存在量词$\exists$：用于表示变元在域中的取值方式是考虑某一个取值。


### 2.3.2 一阶谓词逻辑系统

在一阶谓词逻辑系统中，谓词的项只限于个体，因此不存在谓词变元。一阶谓词逻辑语言定义的符号包括：

(1) 标点符号：$(,),,$；

(2) 逻辑联结符号：$\neg,\wedge,\vee,\rightarrow,\leftrightarrow$；

(3) 量词符号：$\forall, \exists$，量词所作用的范围称为辖域，所作用的变元称为其所指导的变元；

(4) 谓词符号：$F,G,H,...$；

(5) 函数符号：$f,g,h,...$；

(6) 个体常元：$a,b,c,...$；

(7) 个体变元：$x,y,z,...$。


组成合式公式的基本单元是原子谓词公式，简称“原子公式”（atomic formula），其定义如下：

(1) 一个命题是原子公式；

(2) 一个命题变元是原子公式；

(3) 由$n$个个体变元$$x_1,x_2,...,x_n$$及$n$元谓词所组成的命题函数也是一个原子公式。

于是我们可递归地定义一阶谓词逻辑的合式公式（也称“谓词公式”）如下：

(1) 一个原子公式是一个谓词公式；

(2) 如果$A$是合式公式，则$\neg A$也是合式公式；

(3) 如果$A$和$B$是合式公式，则$(A\wedge B)$，$(A\vee B)$，$(A\rightarrow B)$，$(A\leftrightarrow B)$也是合式公式；

(4) 如果$A$是合式公式，$x$是$A$中的个体变元，则$\forall x (A(x))$、$\exists x (A(x))$也是合式公式。

(5) 只有有限次地运用规则(1)、(2)、(3)、(4)所得到的表达式才是合式公式。

谓词的项集可递归定义如下：

(1) 个体常元和个体变元是项；

(2) 对于任意$n$元（$n\geq 1$）函数$f$，如果$$t_1,t_2,...,t_n$$为项，那么$$f(t_1,t_2,...,t_n)$$为项；

(3) 除了有限次使用(1)、(2)的到外，没有任何其他项。

个体变元$x$在公式$A$中自由出现可递归地定义如下：

(1) 如果$A$是一个原子公式，则$x$在$A$中自由出现当且仅当$x$在$A$中出现；

(2) 如果$A$为$\neg B$，则$x$在$A$中自由出现当且仅当$x$在$B$中自由出现；

(3) 如果$A$为$B\rightarrow C$，则$x$在$A$中自由出现当且仅当$x$在$B$中自由出现或在$C$中自由出现；

(4) 如果$A$为$\forall vB$或$\exists vB$，则$x$在A中自由出现当且仅当$x$在$B$中自由出现并且$x\neq v$。

在$A$中出现的个体变元如果不是自由出现，则被称作约束出现。对于公式中约束出现的个体变元叫约束变元，自由出现的个体变元叫自由变元。

称项$t$对$A$中自由变元$x$是可代换的：如果$A$中$x$的任何自由出现都不在$\forall y$（$\exists y$）的辖域内，这里$y$是$t$中的任意自由变元。

对于量词$\exists$可以由$\neg\forall\neg$来定义，因此，跟命题逻辑类似，在下面的形式系统例子中逻辑联结符号我们只使用$\neg,\rightarrow$，量词符号我们只使用$\forall$。

一阶谓词逻辑系统的推理规则与命题逻辑系统一致，只使用分离规则。

一阶谓词逻辑系统相比命题逻辑系统增加了三个关于量词的公理：

(1) $$\forall x A \rightarrow A_t^x$$（其中项$t$对于$A$中的个体变元$x$须是可代换的，将$t$代换$A$中的$x$得到$$A_t^x$$）；

(2) $$\forall x(A\rightarrow B) \rightarrow (\forall xA\rightarrow\forall xB)$$；

(3) $$A\rightarrow \forall xA$$（其中$x$在$A$中须无自由出现）。

其中，第(1)项我们一般称为“代换公理”，而第(2)、(3)项可以用来证明“概括定理”。

概括定理：如果$\Gamma\vdash A$ 并且$x$不在$\Gamma$的任何公式中自由出现，则$\Gamma \vdash \forall A$。

令$$\Gamma_i = < A_1,A_2,...,A_i >$$为$$A_i$$的一个推演序列。我们归纳证明$$\Gamma_{i-1}\vdash\forall xA_i$$。

假定对所有的$j < i$，$x$不在$$A_j$$中自由出现，根据添加公理(3)，我们可以得到$$\Gamma_{i-1}\vdash\forall xA_j$$，我们考察$$A_i$$：

情形1：$$A_i$$是逻辑公理。则$$\forall xA_i$$也是逻辑公理，显然$$\Gamma_{i-1}\vdash\forall xA_i$$。

情形2：$$A_i$$属于$$\Gamma_{i-1}$$。则由前面的归纳假设易得$$\Gamma_{i-1}\vdash\forall xA_i$$。

情形3：$$A_i$$由分离规则从$$A_j$$和$$A_k = A_j\rightarrow A_i$$得到，其中$j,k < i$。由归纳假设，$$\Gamma_{i-1}\vdash\forall xA_j$$和$$\Gamma_{i-1}\vdash\forall x(A_j\rightarrow A_i)$$，对添加公理(2)，即$$\forall x(A_j\rightarrow A_i)\rightarrow (\forall xA_j\rightarrow\forall xA_i)$$，两次使用分离规则，就得到$$\Gamma_{i-1}\vdash\forall xA_i$$。



### 2.3.3 多阶谓词逻辑系统

所谓一阶谓词逻辑和多阶谓词逻辑，可以通过量词作用的对象范围（或者谓词所作用的对象范围）来判断：

(1) 一阶谓词逻辑语言：如果一个语言的解释中，量词仅仅作用于个体变元之上，则称该谓词逻辑语言为一阶的。

(2) 二阶谓词逻辑语言：如果一个语言的解释中，量词不仅可以作用于个体变元之上，还可以作用于谓词变元之上，则称该谓词逻辑语言为二阶的。

(3) $N$阶谓词逻辑语言：如果一个语言的解释中，量词可以作用于$N-1$阶的谓词之上，则称该谓词逻辑语言为$N$阶的。



